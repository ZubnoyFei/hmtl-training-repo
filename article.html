<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    </content>
    <meta http-equiv="X-UA-Compatible" content="ie=egde">
    <title>Телеграм бот для поддержки своими руками</title>
</head>
<body>
<nav>
    <h2><a href="index.html">Main page</a></h2>
    <h2><a href="second.html">Second page</a></h2>
    <h2><a href="table.html">Table page</a></h2>
    <h2><a href="tags.html">Tags</a></h2>
</nav>

<h1>Телеграм бот для поддержки своими руками</h1>
<p>Представьте, что у вас есть свой канал в Телеге. Допустим, вы высказываете непопулярную политическую точку зрения и,
    соответственно, ловите хейт в личку со стороны читателей и проходящих мимо. </p>

<p>Или, например, вы продаете что-то через свой канал. Клиентов так много, что один "продажник" (=вы) не справляется.
    Или поддержка вашего бизнеса отвечает всем в публичном чате, который прикреплен к вашему каналу. Но многие
    стесняются задать вопросы, так как их могут увидеть, поэтому пишут в личку, что не масштабируется.</p>
<p>
    Проблем много, а решение одно: сделать Телеграм бот, который будет работать посредником между вашими клиентами и
    командой поддержки.
</p>
<blockquote>Мое мнение: это самый лучшее применение телеграм ботов за всю историю их существования. На втором месте -
    рассылка закрытой информации через бота только проплатившим пользователям.
</blockquote>

<p>Самый популярный конструктор таких ботов - Livegrambot. Он позволяет сделать тоже самое, но при этом бот будет писать
    вашим пользователям "я сделан через Livegrambot", выпрашивая деньги у вас. Будучи <a
            href="https://t.me/danokhlopkov/205">умелым создателем Телеграм ботов,</a>
    я решил сделать свой аналог, но уже с открытым исходным кодом и легким способом запустить его бесплатно на
    бесплатные серверы. </p>
<p>Ниже я расскажу, как в 1 клик запустить такого бота и как он технически устроен.</p>
<p>TL;DR: Код выложил сюда: <a href="https://github.com/ohld/telegram-support-bot">https://t.me/danokhlopkov/205</a></p>


<h2><strong>Юзер стори или как с этим ботом работать.</strong></h2>
<p>Действующие лица: </p>
<ul>
    <li>Ваши <strong>Пользователи</strong> (читатели канала, клиенты),</li>
    <li>Закрытый <strong>Чат</strong> Поддержки (где сидят те, кто будет отвечать на вопросы Пользователей),</li>
    <li><strong>Бот</strong> (которому Пользователи будут писать свои вопросы).</li>
</ul>
<p>Вот так это все будет работать: </p>
<ol>
    <li>Вы публикуете ссылку на <strong>Бота,</strong></li>
    <li><strong>Пользователи</strong> пишут в него свои вопросы,</li>
    <li><strong>Бот</strong> пересылает их сообщения в ваш <strong>Чат</strong> Поддержки,</li>
    <li>В этом чате вы или ваши помощники отвечают на сообщение (через reply),</li>
    <li><strong>Бот</strong> пересылает ответ обратно пользователю от своего лица, скрывая аккаунт отвечающего.</li>
</ol>
<p>Такая схема неплохо масштабируется: достаточно нанять больше Агентов поддержки, и все Пользователи получат свои
    ответы вовремя и через бота. </p>
<h2><strong>Как это все запустить? Желательно, без навыков.</strong></h2>
<p>Планируя дизраптнуть платный аналог, необходимо продумать онбординг. Большинству проще заплатить, чем самому
    разбираться в коде, технологии и деплое. К счастью, я фанат Heroku, а именно там можно бесплатно хостить свой код,
    нажав всего одну кнопку.</p>
<p><a href="https://github.com/ohld/telegram-support-bot">В README.md</a> я добавил волшебную кнопку от Heroku, которая
    поможет запустить код из репозитория. После нажатия, при наличии аккаунта на Heroku (который можно создать также по
    1 кнопке), вы увидите такую картину:</p>

<img src="https://habrastorage.org/getpro/habr/upload_files/de1/cf1/da9/de1cf1da96e1335d8357410b7bbb25c9.png"
     alt="GitHub repository">
<p>Heroku уже понял, какие данные нужно запросить у вас, у создателя, чтобы все завелось автоматически. Давайте
    пройдемся по этим параметрам:</p>
<p>- <strong>App name:</strong> название приложения в системе Heroku. Можно придумать любое.</p>
<p>- <strong>Choose a region:</strong> где Хероку запустит ваш код. Можно выбрать любое место.</p>
<p>- HEROKU_APP_NAME: впишите сюда тоже самое, что указали выше в App name (это важно для того, чтобы завести тг бота
    через вебхуки).</p>
<p>- TELEGRAM_SUPPORT_CHAT_ID: айдишник чата, куда Телеграм бот будет пересылать сообщения пользователей. Как узнать его
    - смотрите ниже.</p>
<p> TELEGRAM_TOKEN: токен вашего бота, который можно получить у <a href="https://t.me/botfather">BotFather.</a></p>

<h2>Как узнать TELEGRAMSUPPORTCHAT_ID</h2>

<p>Способов много, но самый простой - это добавить <a href="https://t.me/ShowJsonBot">вот этого бота</a> в ваш созданный
    приватный чат. Этот бот возвращает все
    данные, которые ему присылает Телеграм, в частности событие "меня добавили в чат", откуда вы и сможете извлечь
    chat_id.</p>


<h2>Как реализовать такого бота? </h2>

<p>Ниже будет много технической информации. Мы же на Хабре, поэтому я решил добавить этот раздел для любителей
    разобраться в коде и при необходимости его адаптировать. Это раздел можно спокойно пропустить, если хотите.</p>

<p>Примеры кода я буду писать на языке Python и использовать библиотеку python-telegram-bot. Иногда я буду вставлять
    ссылки на <a href="https://github.com/ohld/telegram-support-bot/">GitHub (гит),</a> чтобы легко можно было найти
    этот кусок кода в моем репозитории.</p>

</body>
</html>